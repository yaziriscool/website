import React, { useState, useEffect } from 'react';

const ElevatorGame64 = () => {
  const [currentPage, setCurrentPage] = useState('home');
  const [bubbles, setBubbles] = useState([]);

  useEffect(() => {
    // Generate random bubbles
    const newBubbles = Array.from({ length: 10 }, (_, i) => ({
      id: i,
      left: Math.random() * 100,
      size: Math.random() * 60 + 20,
      duration: Math.random() * 10 + 15,
      delay: Math.random() * 5
    }));
    setBubbles(newBubbles);
  }, []);

  const renderPage = () => {
    switch(currentPage) {
      case 'home':
        return <HomePage />;
      case 'games':
        return <GamesPage />;
      case 'about':
        return <AboutPage />;
      default:
        return <HomePage />;
    }
  };

  return (
    <div className="min-h-screen relative overflow-hidden bg-gradient-to-br from-emerald-300 via-teal-400 to-teal-600">
      {/* Animated Bubbles */}
      {bubbles.map(bubble => (
        <div
          key={bubble.id}
          className="absolute rounded-full bg-white opacity-10 animate-float"
          style={{
            left: `${bubble.left}%`,
            width: `${bubble.size}px`,
            height: `${bubble.size}px`,
            animation: `float ${bubble.duration}s ease-in-out infinite`,
            animationDelay: `${bubble.delay}s`,
            bottom: '-100px'
          }}
        />
      ))}

      <style>{`
        @keyframes float {
          0%, 100% {
            transform: translateY(0) translateX(0) scale(1);
            opacity: 0;
          }
          10% {
            opacity: 0.1;
          }
          50% {
            transform: translateY(-100vh) translateX(20px) scale(1.05);
            opacity: 0.15;
          }
          90% {
            opacity: 0.1;
          }
          100% {
            transform: translateY(-110vh) translateX(-10px) scale(0.95);
            opacity: 0;
          }
        }
        @keyframes bounce {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-10px);
          }
        }
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.02);
          }
        }
      `}</style>

      {/* Navigation */}
      <nav className="relative z-10 p-6">
        <div className="max-w-6xl mx-auto flex justify-between items-center">
          <h1 
            className="text-4xl font-bold text-white drop-shadow-lg cursor-pointer"
            style={{ 
              textShadow: '3px 3px 0px rgba(0,0,0,0.3), 6px 6px 0px rgba(0,0,0,0.2)'
            }}
            onClick={() => setCurrentPage('home')}
          >
            Elevator Game 64
          </h1>
          <div className="flex gap-4">
            {['home', 'games', 'about'].map(page => (
              <button
                key={page}
                onClick={() => setCurrentPage(page)}
                className={`px-6 py-3 rounded-full font-bold text-lg transition-all duration-300 ${
                  currentPage === page
                    ? 'bg-white text-blue-600 shadow-lg scale-110'
                    : 'bg-blue-500 text-white hover:bg-blue-600 hover:scale-105'
                }`}
                style={{
                  boxShadow: currentPage === page ? '0 8px 20px rgba(0,0,0,0.3)' : '0 4px 10px rgba(0,0,0,0.2)'
                }}
              >
                {page.charAt(0).toUpperCase() + page.slice(1)}
              </button>
            ))}
          </div>
        </div>
      </nav>

      {/* Page Content */}
      <div className="relative z-10">
        {renderPage()}
      </div>
    </div>
  );
};

const HomePage = () => {
  return (
    <div className="max-w-6xl mx-auto mt-20 p-8">
      <div 
        className="bg-white bg-opacity-90 rounded-3xl p-12 shadow-2xl"
      >
        <h2 className="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-600 mb-6 text-center">
          Beta
        </h2>
        <p className="text-xl text-gray-700 mb-8 text-center">
          The Official Elevator Game 64 Website. I literally have nothing else to put on here lol.
        </p>
        
        <div className="mt-12 bg-gray-50 rounded-2xl p-8">
          <h3 className="text-3xl font-bold text-gray-800 mb-4">We made it guys! Changelogs:</h3>
          <pre className="text-sm text-gray-700 font-mono whitespace-pre-wrap overflow-x-auto">
{`+ Added a few new floors as part of v0.3
~ NPCs can now rotate to look at the player
+ Added the galaxy spin as an ability
~ Fixed some music related issues and improved scripts for the floor variants
~ Pipes should now work correctly with the new scripts
~ Slightly changed a few floors to be more interesting
+ Added a timer to appear on the screen for when the current floor has less than 30 seconds left
~ Finally fixed various star issues (there were 3 scripts for collecting ONE star)
~ Moved Beta and Green voice options to Utilities, next to the game chat.
+ You want fun? Wario show you fun!`}
          </pre>
          <p className="text-lg font-bold text-blue-600 mt-6">current version: v0.3</p>
        </div>
      </div>
    </div>
  );
};

const GamesPage = () => {
  return (
    <div className="max-w-6xl mx-auto mt-20 p-8">
      <div className="flex justify-center mb-12">
        <a
          href="https://www.roblox.com/games/98572725528544/Elevator-Game-64-v0-3"
          target="_blank"
          rel="noopener noreferrer"
          className="bg-white bg-opacity-90 rounded-3xl p-8 shadow-2xl hover:scale-105 transition-transform duration-300 cursor-pointer w-full max-w-md"
        >
          <h3 className="text-3xl font-bold text-blue-600 mb-3 text-center">
            Elevator Game 64
          </h3>
          <p className="text-lg text-gray-700 text-center">Elevator Game 64.</p>
        </a>
      </div>
      
      {/* Game Screenshots */}
      <div className="bg-white bg-opacity-90 rounded-3xl p-8 shadow-2xl">
        <h3 className="text-2xl font-bold text-gray-800 mb-6 text-center">Game Screenshots</h3>
        <div className="grid grid-cols-2 gap-6">
          <img 
            src="https://i.imgur.com/R2KyrQP.png" 
            alt="EG64"
            className="w-full rounded-lg shadow-lg"
          />
          <img 
            src="https://i.imgur.com/ezt4s1T.png" 
            alt="Luigi sleeping"
            className="w-full rounded-lg shadow-lg"
          />
          <img 
            src="https://i.imgur.com/vcgBbsc.png" 
            alt="Painting"
            className="w-full rounded-lg shadow-lg"
          />
          <img 
            src="https://i.imgur.com/Ld1PfkC.png" 
            alt="Painting 2"
            className="w-full rounded-lg shadow-lg"
          />
        </div>
      </div>
    </div>
  );
};

const AboutPage = () => {
  return (
    <div className="max-w-5xl mx-auto mt-20 p-8">
      <div className="bg-white bg-opacity-90 rounded-3xl p-12 shadow-2xl">
        <h2 className="text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-500 to-teal-600 mb-8 text-center">
          About Elevator Game 64
        </h2>
        
        {/* Featured image */}
        <div className="flex justify-center mb-8">
          <img 
            src="https://i.imgur.com/PJhQ36z.png" 
            alt="Game characters"
            className="w-64 rounded-lg shadow-lg"
          />
        </div>
        
        <div className="space-y-6 text-lg text-gray-700">
          <p>
            Elevator 64 is a game inspired by Super Mario 64 and The Elevator. This game started back in August by MarioYT21. Around September I started to get invested into SM64 Physics. Progress was slow, but overtime I started to learn more and more about how the engine works. To which then I made my own take on Elevator 64 (now called Elevator 120). Eventually around November is when I started to perfect the engine more and more. And that's when the game got called "<span className="font-bold text-emerald-500">Lobby</span> <span className="font-bold text-teal-600">120</span>" (now called Lobby 120). And both games remained seperate for quite awhile. Sure enough MarioYT's Elevator 64 started to get quite a bit more players then Elevator 120. And around summer of 2025. I saw 15 people playing the game and decided that this is the perfect time to upgrade the engine. And so I did, and sure enough the game starts to get popular. It was stuck around 20 players. But there was another game I made but was seperate called "Natural Disaster 64" and that game did VERY well. And actually brought a lot of players to Elevator 64. Sure enough, both games were doing well. Natural Disaster 64 had to be closed due to personal reasons. But Elevator Game 64 is more popular than ever now.
          </p>
          <p>
            This game uses Beta, Vanilla, and Custom assets/Movesets.
          </p>
          <p>
            Custom movesets include:
          </p>
          <ul className="list-disc list-inside ml-4">
            <li>Odyssey dive</li>
            <li>Galaxy spin</li>
            <li>Long jump ground pound</li>
          </ul>
        </div>
      </div>
    </div>
  );
};

export default ElevatorGame64;
